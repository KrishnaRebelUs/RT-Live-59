import{i as I,r as j,v as L,j as e,L as y}from"./index-6b0a12f1.js";import{P as S}from"./PageContainer-9a42d937.js";import{L as T}from"./Logo-17bc2ec5.js";import{a as k}from"./axios-dd1c8fc2.js";import{s as m,T as n,B as t}from"./Box-fd20700d.js";import{S as h}from"./Stack-36e907b3.js";import{T as f}from"./TextField-2af25661.js";import{a as W,F as B}from"./FormGroup-a3d93e68.js";import{C as F}from"./Checkbox-7f4aac2e.js";import{B as P}from"./Button-cfb93975.js";import{G as a}from"./List-fa5ce5f1.js";import{C as E}from"./Card-fa937df3.js";import"./styled-3fb3526a.js";import"./useThemeProps-1bcb54ab.js";import"./FormControl-cf449643.js";import"./Select-e55aa3d1.js";import"./InputLabel-0f10a4c7.js";const A="/assets/Login12-ae0f7485.png",D=m(n)(({theme:r})=>({color:r.palette.text.dark,fontWeight:"500",textDecoration:"none"})),G=({title:r,subtext:l})=>{const s=I(),[p,x]=j.useState(!1),[g,c]=j.useState(null),b=L(),v=async(o,d)=>{x(!0),c(null);try{const i=await k.post("http://35.153.186.247:8082/auth/login",{username:o,password:d}),{jwtToken:u,userId:C}=i.data;console.log("Login response:",i.data),sessionStorage.setItem("token",u),sessionStorage.setItem("userId",C),sessionStorage.setItem("userName",o),u?b("/dashboard"):c("Invalid credentials. Please try again.")}catch{c("Login failed. Please try again.")}finally{x(!1)}},w=o=>{o.preventDefault();const d=o.target.email.value,i=o.target.password.value;v(d,i)};return e.jsxs(e.Fragment,{children:[r&&e.jsx(n,{fontWeight:"700",variant:"h2",mb:1,children:r}),l,e.jsxs("form",{onSubmit:w,children:[e.jsxs(h,{spacing:2,children:[e.jsx(t,{paddingBottom:2,children:e.jsx(f,{id:"email",name:"email",variant:"outlined",placeholder:"Enter your email here",fullWidth:!0})}),e.jsx(t,{children:e.jsx(f,{id:"password",name:"password",type:"password",variant:"outlined",placeholder:"Enter your password here",fullWidth:!0})}),e.jsxs(h,{justifyContent:"space-between",direction:"row",alignItems:"center",my:2,children:[e.jsx(W,{children:e.jsx(B,{control:e.jsx(F,{defaultChecked:!0,color:"primary"}),label:"Remember this device"})}),e.jsx(D,{component:y,to:"/forgot-password",children:"Forgot Password?"})]})]}),e.jsx(t,{marginTop:1,children:e.jsx(P,{color:"primary",variant:"contained",size:"large",fullWidth:!0,type:"submit",disabled:p,sx:{"&:hover":{backgroundColor:s.palette.primary.main}},children:p?"Signing In...":"Sign In"})}),g&&e.jsx(n,{color:"error",variant:"body2",mt:1,children:g})]})]})},ee=()=>{const r=m(n)(({theme:s})=>({color:s.palette.secondary.main})),l=m(n)(({theme:s})=>({color:s.palette.text.dark,marginBottom:"25px",fontWeight:"500",fontSize:"16px"}));return e.jsx(S,{title:"Login",description:"This is the Login page",children:e.jsx(t,{sx:{position:"relative",height:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(a,{container:!0,spacing:0,alignItems:"center",justifyContent:"center",sx:{height:"100%"},children:e.jsx(a,{item:!0,xs:12,display:"flex",justifyContent:"center",alignItems:"center",children:e.jsx(E,{elevation:9,sx:{width:"100%",maxWidth:"1000px"},children:e.jsxs(a,{container:!0,spacing:0,alignItems:"center",justifyContent:"center",children:[e.jsx(a,{item:!0,xs:6,children:e.jsx(t,{sx:{width:"100%",height:"100%",overflow:"hidden"},children:e.jsx("img",{src:A,alt:"Background",style:{width:"100%",height:"100%",objectFit:"cover"}})})}),e.jsx(a,{item:!0,xs:6,pt:0,children:e.jsxs(t,{sx:{p:4,width:"100%",height:"100%"},style:{padding:"0 50px"},children:[e.jsx(t,{display:"flex",alignItems:"center",justifyContent:"center",mb:2,children:e.jsx(T,{})}),e.jsx(G,{title:e.jsx(r,{variant:"h2",textAlign:"center",color:"textSecondary",mb:1,children:"Welcome!"}),subtext:e.jsx(l,{variant:"subtitle1",textAlign:"center",color:"textSecondary",mb:1}),subtitle:e.jsx(h,{direction:"row",spacing:1,justifyContent:"center",mt:3,children:e.jsx(n,{component:y,to:"/auth/register",fontWeight:"500",sx:{textDecoration:"none",color:"primary.main"},children:"Create an account"})})})]})})]})})})})})})};export{ee as default};
